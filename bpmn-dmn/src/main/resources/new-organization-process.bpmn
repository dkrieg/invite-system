<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_0ljsnk9" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.2.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.0.0" camunda:diagramRelationId="2bab8d48-77b3-4b39-af67-ccefc0bb43fb">
  <bpmn:process id="new-organization-process" name="New Organization Process" isExecutable="true">
    <bpmn:startEvent id="Event_02im4on">
      <bpmn:extensionElements />
      <bpmn:outgoing>Flow_1uru2qa</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:parallelGateway id="Gateway_1smifns">
      <bpmn:incoming>Flow_1uru2qa</bpmn:incoming>
      <bpmn:outgoing>Flow_03x8qro</bpmn:outgoing>
      <bpmn:outgoing>Flow_01qg29m</bpmn:outgoing>
      <bpmn:outgoing>Flow_1qywkki</bpmn:outgoing>
      <bpmn:outgoing>Flow_1wbw9vb</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:serviceTask id="Activity_1vx91r0" name="Get All Provider Groups">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="get-provider-groups" />
        <zeebe:ioMapping>
          <zeebe:output source="=providerGroups" target="providerGroups" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1qywkki</bpmn:incoming>
      <bpmn:outgoing>Flow_0yi3k3h</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1xmwaeo" name="Get All Markets">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="get-markets" />
        <zeebe:ioMapping>
          <zeebe:output source="=markets" target="markets" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_01qg29m</bpmn:incoming>
      <bpmn:outgoing>Flow_06r0j7y</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1ldsjvt" name="Get All Communities">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="get-communities" />
        <zeebe:ioMapping>
          <zeebe:output source="=communities" target="communities" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_03x8qro</bpmn:incoming>
      <bpmn:outgoing>Flow_0948ekd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:parallelGateway id="Gateway_02nhkwg">
      <bpmn:incoming>Flow_0yi3k3h</bpmn:incoming>
      <bpmn:incoming>Flow_06r0j7y</bpmn:incoming>
      <bpmn:incoming>Flow_0948ekd</bpmn:incoming>
      <bpmn:incoming>Flow_1r82rng</bpmn:incoming>
      <bpmn:outgoing>Flow_0nbkqzl</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:userTask id="Activity_1wn0spp" name="Define New Organization">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="=communities" target="communities" />
          <zeebe:input source="=markets" target="markets" />
          <zeebe:input source="=providerGroups" target="providerGroups" />
        </zeebe:ioMapping>
        <zeebe:formDefinition formKey="define-new-organization-form" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0nbkqzl</bpmn:incoming>
      <bpmn:outgoing>Flow_1coq838</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1uru2qa" sourceRef="Event_02im4on" targetRef="Gateway_1smifns" />
    <bpmn:sequenceFlow id="Flow_03x8qro" sourceRef="Gateway_1smifns" targetRef="Activity_1ldsjvt" />
    <bpmn:sequenceFlow id="Flow_01qg29m" sourceRef="Gateway_1smifns" targetRef="Activity_1xmwaeo" />
    <bpmn:sequenceFlow id="Flow_1qywkki" sourceRef="Gateway_1smifns" targetRef="Activity_1vx91r0" />
    <bpmn:sequenceFlow id="Flow_0yi3k3h" sourceRef="Activity_1vx91r0" targetRef="Gateway_02nhkwg" />
    <bpmn:sequenceFlow id="Flow_06r0j7y" sourceRef="Activity_1xmwaeo" targetRef="Gateway_02nhkwg" />
    <bpmn:sequenceFlow id="Flow_0948ekd" sourceRef="Activity_1ldsjvt" targetRef="Gateway_02nhkwg" />
    <bpmn:sequenceFlow id="Flow_0nbkqzl" sourceRef="Gateway_02nhkwg" targetRef="Activity_1wn0spp" />
    <bpmn:endEvent id="Event_0ip9q7l">
      <bpmn:incoming>Flow_1coq838</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:boundaryEvent id="new-organization-submitted" name="New Organization Submitted" cancelActivity="false" attachedToRef="Activity_1wn0spp">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="=organization" target="organization" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1l5vmmi</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0i81we3" messageRef="Message_0b1j3ro" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1coq838" sourceRef="Activity_1wn0spp" targetRef="Event_0ip9q7l" />
    <bpmn:serviceTask id="Activity_1kl4l6k" name="Create Organization">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="=organization" target="organization" />
          <zeebe:output source="=organization" target="organization" />
        </zeebe:ioMapping>
        <zeebe:taskDefinition type="create-organization" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1l5vmmi</bpmn:incoming>
      <bpmn:outgoing>Flow_0n8opsv</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1l5vmmi" sourceRef="new-organization-submitted" targetRef="Activity_1kl4l6k" />
    <bpmn:subProcess id="Activity_0pnhhvw" name="Organization Submitted">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="=organization" target="organization" />
          <zeebe:input source="=&#34;amenity-123&#34;" target="newAmenityForOrganizationEventKey" />
          <zeebe:input source="=amenityTypes" target="amenityTypes" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0n8opsv</bpmn:incoming>
      <bpmn:startEvent id="Event_0vvz39t">
        <bpmn:extensionElements>
          <zeebe:ioMapping>
            <zeebe:output source="=organization" target="organization" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
        <bpmn:outgoing>Flow_0jv0g9c</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:userTask id="Activity_05pi97j" name="Define New Amenity For Organization">
        <bpmn:extensionElements>
          <zeebe:formDefinition formKey="define-new-amenity-for-organization-form" />
          <zeebe:ioMapping>
            <zeebe:input source="=organization" target="organization" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0jv0g9c</bpmn:incoming>
        <bpmn:outgoing>Flow_0012307</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:boundaryEvent id="Event_1gk116e" name="New Amenity Submitted" cancelActivity="false" attachedToRef="Activity_05pi97j">
        <bpmn:extensionElements>
          <zeebe:ioMapping>
            <zeebe:output source="=amenity" target="amenity" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
        <bpmn:outgoing>Flow_1e2ikva</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0xucz7p" messageRef="Message_3hfnvm3" />
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="Flow_0jv0g9c" sourceRef="Event_0vvz39t" targetRef="Activity_05pi97j" />
      <bpmn:endEvent id="Event_1nkti0h">
        <bpmn:incoming>Flow_0012307</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0012307" sourceRef="Activity_05pi97j" targetRef="Event_1nkti0h" />
      <bpmn:serviceTask id="Activity_0fnz2lu" name="Create Amenity">
        <bpmn:extensionElements>
          <zeebe:taskDefinition type="create-amenity" />
          <zeebe:ioMapping>
            <zeebe:input source="=amenity" target="amenity" />
            <zeebe:output source="=amenity" target="amenity" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1e2ikva</bpmn:incoming>
        <bpmn:outgoing>Flow_1960a3x</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_1e2ikva" sourceRef="Event_1gk116e" targetRef="Activity_0fnz2lu" />
      <bpmn:endEvent id="Event_0lao904">
        <bpmn:incoming>Flow_1960a3x</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1960a3x" sourceRef="Activity_0fnz2lu" targetRef="Event_0lao904" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="Flow_0n8opsv" sourceRef="Activity_1kl4l6k" targetRef="Activity_0pnhhvw" />
    <bpmn:serviceTask id="Activity_09yshqz" name="Get All Amenity Types">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="get-amenity-types" />
        <zeebe:ioMapping>
          <zeebe:output source="=amenityTypes" target="amenityTypes" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1wbw9vb</bpmn:incoming>
      <bpmn:outgoing>Flow_1r82rng</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1wbw9vb" sourceRef="Gateway_1smifns" targetRef="Activity_09yshqz" />
    <bpmn:sequenceFlow id="Flow_1r82rng" sourceRef="Activity_09yshqz" targetRef="Gateway_02nhkwg" />
  </bpmn:process>
  <bpmn:message id="Message_0b1j3ro" name="newOrganizationSubmitted">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=newOrganizationEventKey" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3hfnvm3" name="newAmenityForOrganizationSubmitted">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=newAmenityForOrganizationEventKey" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="new-organization-process">
      <bpmndi:BPMNEdge id="Flow_1coq838_di" bpmnElement="Flow_1coq838">
        <di:waypoint x="750" y="100" />
        <di:waypoint x="832" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_04oa12g" bpmnElement="Flow_0nbkqzl">
        <di:waypoint x="575" y="100" />
        <di:waypoint x="650" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1fv2adh" bpmnElement="Flow_0948ekd">
        <di:waypoint x="460" y="100" />
        <di:waypoint x="525" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1k34k29" bpmnElement="Flow_06r0j7y">
        <di:waypoint x="460" y="210" />
        <di:waypoint x="550" y="210" />
        <di:waypoint x="550" y="125" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0svfzcr" bpmnElement="Flow_0yi3k3h">
        <di:waypoint x="460" y="320" />
        <di:waypoint x="550" y="320" />
        <di:waypoint x="550" y="125" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0mzy6q5" bpmnElement="Flow_1uru2qa">
        <di:waypoint x="188" y="100" />
        <di:waypoint x="245" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0y17g5k" bpmnElement="Flow_03x8qro">
        <di:waypoint x="295" y="100" />
        <di:waypoint x="360" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0m5ognx" bpmnElement="Flow_01qg29m">
        <di:waypoint x="270" y="125" />
        <di:waypoint x="270" y="210" />
        <di:waypoint x="360" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0tdrmfo" bpmnElement="Flow_1qywkki">
        <di:waypoint x="270" y="125" />
        <di:waypoint x="270" y="320" />
        <di:waypoint x="360" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1l5vmmi_di" bpmnElement="Flow_1l5vmmi">
        <di:waypoint x="700" y="158" />
        <di:waypoint x="700" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0n8opsv_di" bpmnElement="Flow_0n8opsv">
        <di:waypoint x="750" y="280" />
        <di:waypoint x="890" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wbw9vb_di" bpmnElement="Flow_1wbw9vb">
        <di:waypoint x="270" y="125" />
        <di:waypoint x="270" y="420" />
        <di:waypoint x="360" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1r82rng_di" bpmnElement="Flow_1r82rng">
        <di:waypoint x="460" y="420" />
        <di:waypoint x="550" y="420" />
        <di:waypoint x="550" y="125" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_1s031mi" bpmnElement="Activity_1wn0spp">
        <dc:Bounds x="650" y="60" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ip9q7l_di" bpmnElement="Event_0ip9q7l">
        <dc:Bounds x="832" y="82" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0abb32u" bpmnElement="Event_02im4on">
        <dc:Bounds x="152" y="82" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1mgjhv6" bpmnElement="Gateway_1smifns">
        <dc:Bounds x="245" y="75" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_048los1" bpmnElement="Activity_1vx91r0">
        <dc:Bounds x="360" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_13cweww" bpmnElement="Activity_1xmwaeo">
        <dc:Bounds x="360" y="170" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_02kzm9y" bpmnElement="Activity_1ldsjvt">
        <dc:Bounds x="360" y="60" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0v0n5h1" bpmnElement="Gateway_02nhkwg">
        <dc:Bounds x="525" y="75" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0toy7k1" bpmnElement="Activity_1kl4l6k">
        <dc:Bounds x="650" y="240" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0o2ngje_di" bpmnElement="Activity_09yshqz">
        <dc:Bounds x="360" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0keidgd_di" bpmnElement="Activity_0pnhhvw" isExpanded="true">
        <dc:Bounds x="890" y="180" width="410" height="300" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0jv0g9c_di" bpmnElement="Flow_0jv0g9c">
        <di:waypoint x="958" y="250" />
        <di:waypoint x="1010" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0012307_di" bpmnElement="Flow_0012307">
        <di:waypoint x="1110" y="250" />
        <di:waypoint x="1162" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e2ikva_di" bpmnElement="Flow_1e2ikva">
        <di:waypoint x="1059" y="308" />
        <di:waypoint x="1059" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1960a3x_di" bpmnElement="Flow_1960a3x">
        <di:waypoint x="1109" y="410" />
        <di:waypoint x="1162" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1ry3ye2_di" bpmnElement="Activity_05pi97j">
        <dc:Bounds x="1010" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0tdp92n_di" bpmnElement="Event_0vvz39t">
        <dc:Bounds x="922" y="232" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="899" y="305" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1nkti0h_di" bpmnElement="Event_1nkti0h">
        <dc:Bounds x="1162" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1pg4p6x_di" bpmnElement="Activity_0fnz2lu">
        <dc:Bounds x="1009" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0lao904_di" bpmnElement="Event_0lao904">
        <dc:Bounds x="1162" y="392" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_14tzffo_di" bpmnElement="Event_1gk116e">
        <dc:Bounds x="1041" y="272" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1086" y="296" width="65" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0an5so3_di" bpmnElement="new-organization-submitted">
        <dc:Bounds x="682" y="122" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="716" y="156" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
