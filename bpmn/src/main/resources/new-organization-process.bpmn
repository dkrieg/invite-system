<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_0ljsnk9" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.2.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.0.0" camunda:diagramRelationId="2bab8d48-77b3-4b39-af67-ccefc0bb43fb">
  <bpmn:process id="new-organization-process" name="New Organization Process" isExecutable="true">
    <bpmn:startEvent id="Event_02im4on">
      <bpmn:outgoing>Flow_1uru2qa</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:parallelGateway id="Gateway_1smifns">
      <bpmn:incoming>Flow_1uru2qa</bpmn:incoming>
      <bpmn:outgoing>Flow_03x8qro</bpmn:outgoing>
      <bpmn:outgoing>Flow_01qg29m</bpmn:outgoing>
      <bpmn:outgoing>Flow_1qywkki</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:serviceTask id="Activity_1vx91r0" name="Get All Provider Groups">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="get-provider-groups" />
        <zeebe:ioMapping>
          <zeebe:output source="=providerGroups" target="providerGroups" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1qywkki</bpmn:incoming>
      <bpmn:outgoing>Flow_0yi3k3h</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1xmwaeo" name="Get All Markets">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="get-markets" />
        <zeebe:ioMapping>
          <zeebe:output source="=markets" target="markets" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_01qg29m</bpmn:incoming>
      <bpmn:outgoing>Flow_06r0j7y</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1ldsjvt" name="Get All Communities">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="get-communities" />
        <zeebe:ioMapping>
          <zeebe:output source="=communities" target="communities" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_03x8qro</bpmn:incoming>
      <bpmn:outgoing>Flow_0948ekd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:parallelGateway id="Gateway_02nhkwg">
      <bpmn:incoming>Flow_0yi3k3h</bpmn:incoming>
      <bpmn:incoming>Flow_06r0j7y</bpmn:incoming>
      <bpmn:incoming>Flow_0948ekd</bpmn:incoming>
      <bpmn:outgoing>Flow_0nbkqzl</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:userTask id="Activity_1wn0spp" name="Define New Organization">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="=communities" target="communities" />
          <zeebe:input source="=markets" target="markets" />
          <zeebe:input source="=providerGroups" target="providerGroups" />
          <zeebe:output source="=organization" target="organization" />
          <zeebe:output source="=organization" target="organization" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0nbkqzl</bpmn:incoming>
      <bpmn:outgoing>Flow_07nk8qa</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_1kl4l6k" name="Create Organization">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="=organization" target="organization" />
          <zeebe:output source="=organization" target="organization" />
        </zeebe:ioMapping>
        <zeebe:taskDefinition type="create-organization" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_07nk8qa</bpmn:incoming>
      <bpmn:outgoing>Flow_1th12tr</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1uru2qa" sourceRef="Event_02im4on" targetRef="Gateway_1smifns" />
    <bpmn:sequenceFlow id="Flow_03x8qro" sourceRef="Gateway_1smifns" targetRef="Activity_1ldsjvt" />
    <bpmn:sequenceFlow id="Flow_01qg29m" sourceRef="Gateway_1smifns" targetRef="Activity_1xmwaeo" />
    <bpmn:sequenceFlow id="Flow_1qywkki" sourceRef="Gateway_1smifns" targetRef="Activity_1vx91r0" />
    <bpmn:sequenceFlow id="Flow_0yi3k3h" sourceRef="Activity_1vx91r0" targetRef="Gateway_02nhkwg" />
    <bpmn:sequenceFlow id="Flow_06r0j7y" sourceRef="Activity_1xmwaeo" targetRef="Gateway_02nhkwg" />
    <bpmn:sequenceFlow id="Flow_0948ekd" sourceRef="Activity_1ldsjvt" targetRef="Gateway_02nhkwg" />
    <bpmn:sequenceFlow id="Flow_0nbkqzl" sourceRef="Gateway_02nhkwg" targetRef="Activity_1wn0spp" />
    <bpmn:endEvent id="Event_0ip9q7l">
      <bpmn:incoming>Flow_1th12tr</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_07nk8qa" sourceRef="Activity_1wn0spp" targetRef="Activity_1kl4l6k" />
    <bpmn:sequenceFlow id="Flow_1th12tr" sourceRef="Activity_1kl4l6k" targetRef="Event_0ip9q7l" />
  </bpmn:process>
  <bpmn:message id="Message_2544qpl" name="newOrganizationCreated">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=organizationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="new-organization-process">
      <bpmndi:BPMNEdge id="Flow_1th12tr_di" bpmnElement="Flow_1th12tr">
        <di:waypoint x="910" y="100" />
        <di:waypoint x="962" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07nk8qa_di" bpmnElement="Flow_07nk8qa">
        <di:waypoint x="750" y="100" />
        <di:waypoint x="810" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_04oa12g" bpmnElement="Flow_0nbkqzl">
        <di:waypoint x="550" y="325" />
        <di:waypoint x="550" y="100" />
        <di:waypoint x="650" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1fv2adh" bpmnElement="Flow_0948ekd">
        <di:waypoint x="460" y="350" />
        <di:waypoint x="525" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1k34k29" bpmnElement="Flow_06r0j7y">
        <di:waypoint x="460" y="460" />
        <di:waypoint x="550" y="460" />
        <di:waypoint x="550" y="375" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0svfzcr" bpmnElement="Flow_0yi3k3h">
        <di:waypoint x="460" y="570" />
        <di:waypoint x="550" y="570" />
        <di:waypoint x="550" y="375" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0tdrmfo" bpmnElement="Flow_1qywkki">
        <di:waypoint x="270" y="375" />
        <di:waypoint x="270" y="570" />
        <di:waypoint x="360" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0m5ognx" bpmnElement="Flow_01qg29m">
        <di:waypoint x="270" y="375" />
        <di:waypoint x="270" y="460" />
        <di:waypoint x="360" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0y17g5k" bpmnElement="Flow_03x8qro">
        <di:waypoint x="295" y="350" />
        <di:waypoint x="360" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0mzy6q5" bpmnElement="Flow_1uru2qa">
        <di:waypoint x="188" y="350" />
        <di:waypoint x="245" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_0abb32u" bpmnElement="Event_02im4on">
        <dc:Bounds x="152" y="332" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1mgjhv6" bpmnElement="Gateway_1smifns">
        <dc:Bounds x="245" y="325" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_048los1" bpmnElement="Activity_1vx91r0">
        <dc:Bounds x="360" y="530" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_13cweww" bpmnElement="Activity_1xmwaeo">
        <dc:Bounds x="360" y="420" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_02kzm9y" bpmnElement="Activity_1ldsjvt">
        <dc:Bounds x="360" y="310" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0v0n5h1" bpmnElement="Gateway_02nhkwg">
        <dc:Bounds x="525" y="325" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1s031mi" bpmnElement="Activity_1wn0spp">
        <dc:Bounds x="650" y="60" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0toy7k1" bpmnElement="Activity_1kl4l6k">
        <dc:Bounds x="810" y="60" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ip9q7l_di" bpmnElement="Event_0ip9q7l">
        <dc:Bounds x="962" y="82" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
